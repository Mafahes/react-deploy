(this["webpackJsonpranepa-client-desktop"]=this["webpackJsonpranepa-client-desktop"]||[]).push([[0],{140:function(e,t,a){e.exports={profile:"profile_profile__kvY0q",content:"profile_content__2XWVn",marks:"profile_marks__pCACD",marks__count:"profile_marks__count__3H3YG",personInfo:"profile_personInfo__3mBvS",personInfo__header:"profile_personInfo__header__37Lpy","MuiDialog-paperWidthSm":"profile_MuiDialog-paperWidthSm__vS0vS",personInfo__settings:"profile_personInfo__settings__3UX9Y"}},170:function(e,t,a){e.exports={home_page:"home-page_home_page__1hKQb",home_page__info:"home-page_home_page__info__2U5Vo",home_page__header:"home-page_home_page__header__1wtfc",home_page__map:"home-page_home_page__map__lqdCa",home_page__map_wrapper:"home-page_home_page__map_wrapper__3KwvX"}},345:function(e,t,a){e.exports={login:"login_login__2Hf6P",login__form:"login_login__form__2_HrR"}},346:function(e,t,a){e.exports={input:"input_input__3oUS_",invalid:"input_invalid__21-Wy"}},475:function(e,t,a){e.exports=a.p+"static/media/browser.1480e4ea.svg"},476:function(e,t,a){e.exports={not_found:"not-found_not_found__3FQho"}},485:function(e,t,a){e.exports=a.p+"static/media/ranepa.1150b4ac.png"},495:function(e,t,a){e.exports=a.p+"static/media/ranepa.4e082a2a.png"},537:function(e,t,a){e.exports=a(786)},542:function(e,t,a){},548:function(e,t,a){},604:function(e,t,a){},67:function(e,t,a){e.exports={studentBook_content:"student_studentBook_content__XVz6w",studentBook_input:"student_studentBook_input__2uSJ8",studentBooK_tableHead:"student_studentBooK_tableHead__2wyOP",studentBooK_tableHead_text:"student_studentBooK_tableHead_text__uI1pZ",studentBooK_Content_text:"student_studentBooK_Content_text__3QNcN",studentBooK_tableContent:"student_studentBooK_tableContent__17SMM",studentBook_header:"student_studentBook_header__35yvX",studentBook_Button:"student_studentBook_Button__19axI",studentBook_searchIcon:"student_studentBook_searchIcon__3uc3C",book_tr:"student_book_tr__WVsBY",book_td:"student_book_td__2k4MV",book_collapse:"student_book_collapse__29NI7"}},688:function(e,t,a){},72:function(e,t,a){e.exports={timetable_header:"timetable_timetable_header__awp_q",timetable_input:"timetable_timetable_input__zP2hc",timetable_Button:"timetable_timetable_Button__uYV9E",timetable_searchIcon:"timetable_timetable_searchIcon__1Dn1P",timetable_selector:"timetable_timetable_selector__33mVp",timetable_selector_active:"timetable_timetable_selector_active__1gLa8",timetable_wrap_selector:"timetable_timetable_wrap_selector__3Mpk1",timetable_tableHead_text:"timetable_timetable_tableHead_text__2WdUk",timetable_Content_text:"timetable_timetable_Content_text__3zERz",timetable_list_wrapper:"timetable_timetable_list_wrapper__1YqkP",timetable_list_wrapper_lesson:"timetable_timetable_list_wrapper_lesson__c53cr",loading_circle:"timetable_loading_circle__21KLP",loading_circle__container:"timetable_loading_circle__container__2nOGd"}},786:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),c=a.n(o),l=a(12),s=a(10),i=a(16),u=a(15),p=a(17),m=(a(542),a(122)),d=a(475),f=a.n(d),b=a(476),h=a.n(b),g=a(50),E={label_textInput:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",label_dataInput:"\u0414\u0430\u0442\u0430"},_={aboutUsHeader:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0435\u043e\u0444\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c \u0441\u0430\u0439\u0442\u0430 \u041d\u0418\u0423 \u0420\u0410\u041d\u0425\u0438\u0413\u0421 \u0438 \u043d\u0435 \u0438\u043c\u0435\u0435\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u043e\u0431\u0449\u0435\u0433\u043e \u0441 \u0435\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c",aboutUsName:"\u0421\u043e\u0437\u0434\u0430\u043d\u043e \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 React"},v={profile:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",login:"\u0412\u043e\u0439\u0442\u0438",map:"\u041a\u0430\u0440\u0442\u0430",timetable:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435",studentBook:"\u0417\u0430\u0447\u0435\u0442\u043a\u0430",aboutUs:"\u041e \u043d\u0430\u0441"},k={homePageHeader:"niu ranepa client",homePageInfo:"\u041d\u043e\u0432\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 \u0432\u0441\u0435\u043c\u0443 \u043b\u044e\u0431\u0438\u043c\u043e\u0433\u043e \u0420\u0430\u043d\u0445\u0438\u0433\u0441\u0430 \u043e\u0442 \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u0445 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432"},O={loginHeader:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u043a\u043b\u0438\u0435\u043d\u0442",alertErrorLogin:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f \u0432\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",loginButton:"\u0412\u0445\u043e\u0434",loginLabel:"\u041b\u043e\u0433\u0438\u043d",passwordLabel:"\u041f\u0430\u0440\u043e\u043b\u044c"},y={label:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"},S={changePasswordLabel:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",logoutLabel:"\u0412\u044b\u0439\u0442\u0438",labelMyProfile:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",labelMyMarks:"\u0412\u0430\u0448\u0438 \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438",labelMarkNotFound:"\u041d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043c\u0430\u0440\u043a\u0435\u0440\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",labelDeleteMarkHeader:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u0430",labelDeleteMarkDescription:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u0430\u0440\u043a\u0435\u0440?",labelAlertButtonCancel:"\u041e\u0442\u043c\u0435\u043d\u0430",labelAlertButtonSubmit:"\u041f\u043e\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044e"},j={dataNotFound:"\u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445",labelNubmer:"\u2116",labelLvl:"\u041a\u0443\u0440\u0441",labelSubject:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442",labelTypeSubject:"\u0422\u0438\u043f \u0437\u0430\u0447\u0435\u0442\u0430",labelMark:"\u041e\u0446\u0435\u043d\u043a\u0430",placeholderSearch:"\u041f\u043e\u0438\u0441\u043a"},w={teacher:"\u0423\u0447\u0438\u0442\u0435\u043b\u044c",student:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442",labelSearch:"\u041f\u043e\u0438\u0441\u043a"},C=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:h.a.not_found},r.a.createElement("img",{src:f.a,alt:"not-found"}),r.a.createElement("span",null,"404"),r.a.createElement(g.b,{to:"/map"},r.a.createElement("button",null,y.label)))}}]),t}(n.Component),x=a(40),N=a(28),I=a(32),A=a(24),R=a.n(A),T=a(4),D=a(124),P=(a(548),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.onClick,o=t.iconSize;return[].concat(Object(I.a)(a),[{latitude:56.29229,longitude:43.98321,address:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u043a\u043e\u0440\u043f\u0443\u0441",description:null,siteName:"\u041d\u0418\u0423 \u0420\u0410\u041d\u0425\u0438\u0413\u0421",user:"genBuild"},{latitude:56.30545,longitude:43.99114,address:"\u041a\u043e\u0440\u043f\u0443\u0441 \u0421\u041f\u041e",description:null,siteName:"\u041d\u0418\u0423 \u0420\u0410\u041d\u0425\u0438\u0413\u0421",user:"secBuild"}]).map((function(t,a){return r.a.createElement(D.b,{key:"marker-".concat(a),longitude:t.longitude,latitude:t.latitude},r.a.createElement("i",{className:"genBuild"===t.user?"fas fa-building fa-2x":"secBuild"===t.user?"fas fa-home fa-2x":"fas fa-map-marker-alt fa-2x",onClick:function(){return n(t)},style:{fontSize:o*(o/6),cursor:"pointer",color:e.props.styles?"white":"#951a1d",stroke:"none",transform:"translate(".concat(o/9.2*-8,"px, ").concat(-o*(o/6),"px)")}}))}))}}]),t}(n.PureComponent)),B={pinsConfig:{"circle-radius":{base:1.45,stops:[[12,2],[22,180]]},"circle-color":"#951b1d","circle-opacity":.5,"circle-stroke-width":1,"circle-stroke-color":"#bcb7b9"},apiStyle:"mapbox://styles/mafahes/ck5zqz49333o11intge32b2pf",apiWelcomeStyle:"mapbox://styles/mafahes/ck5zquanh093c1ip55qgp0e76",apiDarkStyle:"mapbox://styles/mafahes/ck7ytniby1cm81jlktlfxfuuh",token:"pk.eyJ1IjoibWFmYWhlcyIsImEiOiJjazV6cW5xdDUwMDRrM21ueHF2Z3EzY3VyIn0.RRuRqnVCy3VWno0v3Xk__w",geoCoderAPI:"https://api.mapbox.com/geocoding/v5/mapbox.places"},F=a(105),U=a.n(F),H=a(121),L=a.n(H),M={apiKey:"AIzaSyDpDh_wuj9NfteTWqZeNBLVmu5FIgnd4OY",authDomain:"basic-lock-238415.firebaseapp.com",databaseURL:"https://basic-lock-238415.firebaseio.com",projectId:"basic-lock-238415",storageBucket:"basic-lock-238415.appspot.com",messagingSenderId:"723989397537",appId:"1:723989397537:web:0fb8d658b7b8556d"};function V(e){return Object.keys(e).map((function(t){return e[t]=Object(N.a)({},e[t],{key:t})}))}function W(e,t){var a;return R.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a={address:null},n.next=3,R.a.awrap(L.a.get("".concat(B.geoCoderAPI,"/").concat(t,",").concat(e,".json?access_token=").concat(B.token)).then((function(e){e.data.features.length&&e.data.features[0].properties.hasOwnProperty("address")?e.data.features[0].properties.address.length?a.address=e.data.features[0].properties.address:a.address=e.data.features[0].text:a.address="\u0410\u0434\u0440\u0435\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})));case 3:return n.abrupt("return",a.address);case 4:case"end":return n.stop()}}))}function K(e){var t;return R.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=null,a.next=3,R.a.awrap(U.a.database().ref("profiles").once("value").then((function(a){return t=a.hasChild(e)})));case 3:return a.abrupt("return",t);case 4:case"end":return a.stop()}}))}function z(e,t,a,n){return R.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R.a.awrap(K(e));case 2:if(!r.sent){r.next=5;break}return r.abrupt("return",!1);case 5:return r.next=7,R.a.awrap(U.a.database().ref("profiles").child(e).set({id:Math.floor(1e4*Math.random()*Math.floor(6)),login:e,password:n,siteName:t,vkId:a}));case 7:return r.abrupt("return",!0);case 8:case"end":return r.stop()}}))}function q(e,t){var a;return R.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a={isAuthed:!1,data:{},resultCode:null},n.next=3,R.a.awrap(U.a.database().ref("profiles").orderByChild("login").equalTo(t).once("value").then((function(e){return!!e.val()&&(a.isAuthed=!0,a.data=e.child(t).val(),!0)})));case 3:if(!n.sent){n.next=9;break}return n.next=7,R.a.awrap(U.a.database().ref("profiles/"+t).orderByValue().equalTo(e).once("value").then((function(e){e.val()?a.resultCode=0:a.resultCode=1})));case 7:n.next=10;break;case 9:a.resultCode=1;case 10:return n.abrupt("return",a);case 11:case"end":return n.stop()}}))}function G(e){var t;return R.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=null,a.next=3,R.a.awrap(U.a.database().ref("markers").orderByChild("user").equalTo(e).once("value").then((function(e){t=e.val()})));case 3:return a.abrupt("return",t);case 4:case"end":return a.stop()}}))}function Y(e){var t;return R.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=U.a.database().ref("markers/"+e),a.next=3,R.a.awrap(t.remove().then().catch((function(e){return console.log("err"+e)})));case 3:case"end":return a.stop()}}))}var J=a(411),X=a(410),Q=a(834),Z=a(484),$=a.n(Z),ee=a(100),te=a(20),ae=a(407),ne=a(815),re=a(838),oe=a(817),ce=a(251),le=a.n(ce),se=a(481),ie=a.n(se),ue=a(480),pe=a.n(ue),me=Object(ae.a)((function(e){return{speedDial:{position:"absolute",bottom:e.spacing(91),right:e.spacing(3)}}}));function de(e){var t=me(),a=r.a.useState(!1),n=Object(te.a)(a,2),o=n[0],c=n[1],l=r.a.useState(!JSON.parse(localStorage.getItem("mapSettings")).markHide),s=Object(te.a)(l,2),i=s[0],u=s[1],p=r.a.useState(!JSON.parse(localStorage.getItem("mapSettings")).darkMode),m=Object(te.a)(p,2),d=m[0],f=m[1],b=[{icon:r.a.createElement(le.a,{style:i?{color:"#951b1d"}:null}),name:"\u041c\u0430\u0440\u043a\u0435\u0440\u044b",id:1},{icon:r.a.createElement(pe.a,{style:d?null:{color:"#1a2637"}}),name:"\u0422\u0435\u043c\u0430",id:2}];return r.a.createElement(ne.a,{ariaLabel:"SpeedDial",className:t.speedDial,icon:r.a.createElement(re.a,{openIcon:r.a.createElement(ie.a,null)}),onClose:function(){c(!1)},onOpen:function(){c(!0)},open:o,direction:"down"},b.map((function(t){return r.a.createElement(oe.a,{icon:t.icon,tooltipTitle:t.name,onClick:function(){return function(t){switch(t){case 1:u(!i),e.changeSettings(t,i);break;case 2:f(!d),e.changeSettings(t,d)}}(t.id)}})})))}var fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e)))._updateViewport=function(e){e.height,e.width;var t=Object(T.a)(e,["height","width"]);a.setState({viewport:t})},a._onClickMarker=function(e){a.setState({popupInfo:e})},a._createPopupForm=function(e){var t;return R.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t=e.lngLat,n.next=4,R.a.awrap(W(t[1],t[0]).then((function(e){a.setState({popupIsCreated:{longitude:t[0],latitude:t[1],address:e}})})));case 4:case"end":return n.stop()}}))},a.handleInput=function(e){a.setState({popupInputData:e.target.value})},a.handleDateBegin=function(e){a.setState({popupDateBegin:e.target.value})},a.createMarker=function(e,t,n,r,o){W(t,e).then((function(c){a._transformDateBegin(o);var l={address:c,date:"".concat((new Date).getDate(),".").concat((new Date).getMonth()+1,".").concat((new Date).getFullYear()),latitude:t,longitude:e,description:n,user:r.login,siteName:r.siteName,dateBegin:a._transformDateBegin(o)};a.setState({popupData:[].concat(Object(I.a)(a.props.API.data),Object(I.a)(a.state.popupData),[l])}),function(e,t,a,n,r){var o;R.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,R.a.awrap(W(e,t));case 2:o=c.sent,U.a.database().ref("markers").push({dateBegin:r,description:n,latitude:e,longitude:t,user:a.login,siteName:a.siteName,address:o,date:"".concat((new Date).getDate(),".").concat((new Date).getMonth()+1,".").concat((new Date).getFullYear())});case 4:case"end":return c.stop()}}))}(t,e,r,n,a._transformDateBegin(o))})),a.setState({popupInputData:null,popupDateBegin:null})},a._renderCreatedPopup=function(){var e=a.state,t=e.popupIsCreated,n=e.popupInputData,o=e.popupDateBegin,c=a.props.auth.siteName?a.props.auth:JSON.parse(localStorage.getItem("user"));return t&&a.props.auth.isAuth&&r.a.createElement(D.d,{tipSize:5,anchor:"top",longitude:t.longitude,latitude:t.latitude,closeOnClick:!1,onClose:function(){return a.setState({popupIsCreated:!1})}},r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement("strong",{className:"popup-text-header"},a.props.auth.siteName?a.props.auth.siteName:c.siteName),r.a.createElement("br",null),r.a.createElement("em",{className:"popup-text-address"},t.address),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(X.a,{id:"outlined-size-small",label:E.label_textInput,variant:"outlined",type:"text",size:"small",inputProps:{maxLength:30},onChange:a.handleInput}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(X.a,{onChange:a.handleDateBegin,id:"datetime-local",label:E.label_dataInput,type:"datetime-local",defaultValue:"0000-00-00T00:00",InputLabelProps:{shrink:!0}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(J.a,{variant:"contained",color:"secondary",className:"button_submit",onClick:function(){a.createMarker(t.longitude,t.latitude,n,c,o),setTimeout((function(){a.setState({popupIsCreated:!1,popupInputData:null}),a.props.enqueueSnackbar("\u041c\u0435\u0442\u043a\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}})}),500)}},"\u041f\u0440\u0438\u043d\u044f\u0442\u044c")))},a.state={viewport:{mapboxApiAccessToken:B.token,latitude:56.307,longitude:43.991,zoom:9,bearing:0,pitch:0},popupInfo:null,popupIsCreated:!1,popupData:null,popupInputData:null,popupDateBegin:null,mapWelcome:{dragPan:!a.props.welcomeScreen,doubleClickZoom:!a.props.welcomeScreen,dragRotate:!a.props.welcomeScreen},settings:{markHide:!!localStorage.getItem("mapSettings")&&JSON.parse(localStorage.getItem("mapSettings")).markHide,darkMode:!!localStorage.getItem("mapSettings")&&JSON.parse(localStorage.getItem("mapSettings")).darkMode}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.API.data!==this.state.popupData&&this.setState({popupData:e.API.data})}},{key:"componentWillUnmount",value:function(){this.props.startFetch(!0)}},{key:"_changesettings",value:function(e,t){switch(e){case 1:localStorage.setItem("mapSettings",JSON.stringify(Object(N.a)({},this.state.settings,{markHide:t}))),this.setState({settings:Object(N.a)({},this.state.settings,{markHide:JSON.parse(localStorage.getItem("mapSettings")).markHide})});break;case 2:localStorage.setItem("mapSettings",JSON.stringify(Object(N.a)({},this.state.settings,{darkMode:t}))),this.setState({settings:Object(N.a)({},this.state.settings,{darkMode:JSON.parse(localStorage.getItem("mapSettings")).darkMode})})}}},{key:"_transformDateBegin",value:function(e){if(null===e)return null;var t=e.substring(11);return e.substring(0,10)+" "+t}},{key:"_renderPopup",value:function(){var e=this,t=this.state.popupInfo;return t&&r.a.createElement(D.d,{tipSize:5,anchor:"top",longitude:t.longitude,latitude:t.latitude,closeOnClick:!1,onClose:function(){return e.setState({popupInfo:null})}},r.a.createElement("strong",{className:"popup-text-header"},t.siteName),r.a.createElement("br",null),r.a.createElement("em",{className:"popup-text-address"},t.address),r.a.createElement("br",null),null===t.description?null:r.a.createElement(Q.a,{severity:"info",className:"map-info"},t.description),null!==t.dateBegin&&t.hasOwnProperty("dateBegin")?r.a.createElement(Q.a,{severity:"error",className:"map-error",icon:r.a.createElement($.a,{fontSize:"inherit"})},t.dateBegin):null)}},{key:"render",value:function(){var e=this.state.viewport,t=this.props.API.data?this.state.settings.markHide?null:r.a.createElement(P,{data:this.state.popupData?this.state.popupData:this.props.API.data,onClick:this._onClickMarker,iconSize:this.state.viewport.zoom,styles:this.state.settings.darkMode}):null,a=this.state.popupIsCreated?this.props.welcomeScreen?null:this._renderCreatedPopup():null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.e,Object.assign({onClick:this._createPopupForm,width:this.props.width,height:this.props.height},this.state.mapWelcome,e,{mapStyle:this.props.welcomeScreen?B.apiWelcomeStyle:this.state.settings.darkMode?B.apiDarkStyle:B.apiStyle,onViewportChange:this._updateViewport,className:"mapContainer"}),r.a.createElement(D.a,{style:{position:"absolute",top:0,left:0,margin:10},positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}),r.a.createElement("div",{style:{position:"absolute",top:0,left:0,marginTop:50,marginLeft:10}},r.a.createElement(D.c,null)),t,this._renderPopup(),a),r.a.createElement(de,{changeSettings:this._changesettings.bind(this)}))}}]),t}(n.Component),be=Object(ee.withSnackbar)(fe),he=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.startFetch,a=e.API.data,n=e.welcomeScreen;if(!a)return n?null:t(!1)}},{key:"render",value:function(){return r.a.createElement(be,Object.assign({startFetch:this.props.startFetch,auth:this.props.auth},this.props))}}]),t}(n.Component),ge=a(256),Ee=a.n(ge),_e=(a(585),function(){function e(){var t=this;Object(l.a)(this,e),this._api="http://services.niu.ranepa.ru/API/public/",this._api_group="http://services.niu.ranepa.ru/API/public/teacher/teachersAndGroupsList/",this.getResource=function(e,a){var n;return R.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R.a.awrap(L.a.get("".concat(t._api).concat("1"===a?"teacher/":"group/").concat(e,"/schedule/").concat(t.getCurrentDate(),"/").concat(t.getPlus7Date())));case 2:return n=r.sent,r.abrupt("return",n.data.map((function(e){return t._transformData(e)})));case 4:case"end":return r.stop()}}))},this._transformData=function(e){return{teacher:e.teacher||e.group,audit:e.number,lesson:e.subject,type:e.type,time:e.nf+" - "+e.kf,xdt:t._extractData(e),dayOfWeek:t._getDayOfWeek(e),fullData:e.xdt}}}return Object(s.a)(e,[{key:"_extractData",value:function(e){return e.xdt.match(/[0-9].......([0-9]*)/)[1]}},{key:"_getDayOfWeek",value:function(e){Ee.a.locale("ru");var t=e.xdt.substr(8);t=(t=t.substring(0,t.length-13))/10<1?t.substr(1):t;var a=e.xdt.substr(5);a=(a=a.substring(0,a.length-16))/10<1?a.substr(1):a;var n=e.xdt.substring(0,e.xdt.length-19);return Ee()("".concat(t,".").concat(a,".").concat(n),"DD.MM.YYYY").format("dddd")}},{key:"getGroupOrTeacher",value:function(e){var t;return R.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.a.awrap(L.a.get(this._api_group).then((function(t){return t.data.filter((function(t){return t.type===e}))})));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}),null,this)}},{key:"getCurrentDate",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();return"".concat(t,".").concat(a<10?"0".concat(a):"".concat(a),".").concat(n)}},{key:"getPlus7Date",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=new Date,t=6;e.setDate(e.getDate()+t);var a=e.getDate(),n=e.getMonth()+1,r=e.getFullYear(),o=a+"."+n+"."+r;return o}}]),e}()),ve=a(342),ke=a.n(ve),Oe="b506acc09b3fe3edd8975568fd8e94e69da4237fe0881b44ba1468f9aaf02fcdc1c44cdb734f9133087fe",ye=["groups.getById"];function Se(e){var t;return R.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.a.awrap(ke.a.jsonp("https://api.vk.com/method/".concat(ye[0]),{params:{group_id:e,v:"5.52",access_token:Oe,fields:"members_count,counters"}}));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))}function je(e){var t;return R.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.a.awrap(ke.a.jsonp("https://api.vk.com/method/".concat(ye[0]),{params:{group_id:e,v:"5.52",access_token:Oe,fields:"links"}}));case 2:if(!(t=a.sent).hasOwnProperty("error")){a.next=5;break}return a.abrupt("return",!1);case 5:if(!1!==t.response[0].hasOwnProperty("links")){a.next=7;break}return a.abrupt("return","similarity_err");case 7:if(!t.response[0].links.map((function(e){return"https://vk.com/activniu"===e.url||"https://vk.com/ranepaspo"===e.url||"https://vk.com/niuranepa"===e.url})).includes(!0)){a.next=12;break}return a.abrupt("return",t);case 12:return a.abrupt("return","similarity_err");case 13:case"end":return a.stop()}}))}function we(e){return{type:"FETCH_API_SUCCESS",payload:e}}function Ce(e){return{type:"FETCH_USER_PINS_START",payload:e}}function xe(e){return{type:"FETCH_USER_PINS_SUCCES",payload:e}}function Ne(e){return{type:"FETCH_USER_BOOK_START",payload:e}}function Ie(e){return{type:"FETCH_USER_BOOK_SUCCESS",payload:e}}function Ae(e){return{type:"FETCH_SEARCH_DATA",payload:e}}function Re(e){return{type:"FETCH_VK_GROUP_SUCCESS",payload:e}}var Te=Object(x.b)((function(e){return{auth:e.AuthReducer,API:e.APIReducer}}),(function(e){return{startFetch:function(t){return e(function(e){return e?function(e){return e(we(null))}:function(e){L.a.get("https://basic-lock-238415.firebaseio.com/markers.json?auth=QpEDGE1BvmXlj6cSboFbxwCwkOsN3UBcLVxdj68o").then((function(e){return V(e.data)})).then((function(t){return e(we(t))})).catch((function(t){return e({type:"FETCH_API_FAILURE"})}))}}(t))}}}))(he),De=(a(604),a(485)),Pe=a.n(De),Be=a(818),Fe=function(e){return r.a.createElement("nav",{className:"main-menu"},r.a.createElement("div",{className:"logo"},r.a.createElement(g.b,{to:"/"},r.a.createElement("img",{src:Pe.a,alt:"ranepa"}))),r.a.createElement("div",{className:"scrollbar",id:"style-1"},r.a.createElement("ul",null,r.a.createElement("li",null,e.isAuth?r.a.createElement(g.b,{to:"/profile",activeClassName:"active"},r.a.createElement("i",{className:"fa fa-user-circle fa-lg"}),r.a.createElement("span",{className:"nav-text"},v.profile)):r.a.createElement(g.b,{to:"/login",activeClassName:"active"},r.a.createElement("i",{className:"fa fa-sign-in-alt fa-lg"}),r.a.createElement("span",{className:"nav-text"},v.login))),r.a.createElement("li",null,r.a.createElement(Be.a,null)),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/map",activeClassName:"active"},r.a.createElement("i",{className:"fa fa-map-marked-alt fa-lg"}),r.a.createElement("span",{className:"nav-text"},v.map))),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/timetable",activeClassName:"active"},r.a.createElement("i",{className:"fa fa-table fa-lg"}),r.a.createElement("span",{className:"nav-text"},v.timetable))),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/student-book",activeClassName:"active"},r.a.createElement("i",{className:"fa fa-book-open fa-lg"}),r.a.createElement("span",{className:"nav-text"},v.studentBook))),r.a.createElement("li",null,r.a.createElement(g.b,{to:"/about-us",activeClassName:"active"},r.a.createElement("i",{className:"fa fa-info-circle fa-lg"}),r.a.createElement("span",{className:"nav-text"},v.aboutUs))))))},Ue=Object(x.b)((function(e){return{isAuth:e.AuthReducer.isAuth}}),(function(e){return{}}))(Fe),He=a(153),Le=function(e,t,a,n,r,o,c){return{type:"SET_AUTH_USER_DATA_SUCCES",payload:{id:e,login:t,password:a,siteName:r,isAuth:n,isFailed:o,vkId:c}}},Me=function(e){return{type:"SET_AUTH_USER_DATA_FAILURE",payload:{isFailed:e}}},Ve=function(){return function(e){var t,a,n,r,o,c,l;return R.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:try{t=window.localStorage.getItem("user"),void 0!==(a=JSON.parse(t))&&(n=a.id,r=a.login,o=a.password,c=a.siteName,l=a.vkId,e(Le(n,r,o,!0,c,!1,l)))}catch(i){}case 1:case"end":return s.stop()}}))}},We=a(33),Ke=a(140),ze=a.n(Ke),qe=a(799),Ge=a(801),Ye=a(438),Je=a(832),Xe=a(836),Qe=a(344),Ze=a.n(Qe),$e=a(72),et=a.n($e),tt=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{align:"left",className:et.a.timetable_tableHead_text},a+1),r.a.createElement("td",{className:et.a.timetable_Content_text,onClick:function(){return e.props.getLesson(t.oid)}},t.value))}));return r.a.createElement("div",{className:et.a.timetable_list_wrapper},r.a.createElement("table",null,r.a.createElement("tbody",{style:{overflow:"scroll"}},t)))}}]),t}(n.Component),at=a(257),nt=a.n(at),rt=a(264),ot=a.n(rt),ct=a(274),lt=a.n(ct),st=a(265),it=a.n(st),ut=a(272),pt=a.n(ut),mt=a(169),dt=a.n(mt),ft=a(168),bt=a.n(ft),ht=a(266),gt=a.n(ht),Et=a(267),_t=a.n(Et),vt=a(269),kt=a.n(vt),Ot=a(270),yt=a.n(Ot),St=a(271),jt=a.n(St),wt=a(275),Ct=a.n(wt),xt=a(268),Nt=a.n(xt),It=a(273),At=a.n(It),Rt=a(276),Tt=a.n(Rt),Dt=a(277),Pt=a.n(Dt),Bt=a(336),Ft=a.n(Bt),Ut={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(dt.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(_t.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(Nt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(kt.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(yt.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(dt.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(pt.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(At.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(lt.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ct.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Tt.a,Object.assign({},e,{ref:t}))}))};function Ht(e){var t=Object(n.useRef)(),a={columns:[{title:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c",field:"teacher",grouping:!1},{title:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f",field:"audit",grouping:!1},{title:"\u0417\u0430\u043d\u044f\u0442\u0438\u0435",field:"lesson",grouping:!1},{title:"\u0412\u0440\u0435\u043c\u044f",field:"time",grouping:!1},{title:"\u0414\u0435\u043d\u044c",field:"dayOfWeek",defaultGroupOrder:0}],data:e.data};return r.a.createElement(nt.a,{actions:[{icon:function(){return r.a.createElement(Ft.a,{trigger:function(){return r.a.createElement(Pt.a,null)},content:function(){return t}})},tooltip:"\u041f\u0435\u0447\u0430\u0442\u044c",isFreeAction:!0}],tableRef:function(e){return t=e},icons:Ut,title:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435",columns:a.columns,data:a.data,options:{grouping:!0,exportButton:!0,pageSizeOptions:[]},style:{borderRadius:"10px"},localization:{grouping:{placeholder:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \u0432 \u0432\u0438\u0434\u0435 \u0434\u0435\u0440\u0435\u0432\u0430",groupedBy:"\u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e: "},pagination:{labelRowsSelect:"\u0421\u0442\u0440\u043e\u043a\u0438",firstAriaLabel:"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",firstTooltip:"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",previousAriaLabel:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",previousTooltip:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",nextAriaLabel:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",nextTooltip:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",lastAriaLabel:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u043e\u043a\u0430",lastTooltip:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u043e\u043a\u0430"},toolbar:{searchPlaceholder:"\u041f\u043e\u0438\u0441\u043a",searchTooltip:"\u041f\u043e\u0438\u0441\u043a",exportAriaLabel:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0442\u0430\u0431\u043b\u0438\u0446\u044b",exportName:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 .CSV",exportTitle:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0442\u0430\u0431\u043b\u0438\u0446\u044b"}}})}var Lt=a(506),Mt=a(491),Vt=a.n(Mt),Wt=a(5),Kt=a(152),zt=a.n(Kt),qt=a(409),Gt=a(167),Yt=a(92),Jt=a(824),Xt=a(825),Qt=a(335),Zt=a(490),$t=a.n(Zt),ea=a(489),ta=a.n(ea),aa=a(278),na=a.n(aa),ra=Object(ae.a)((function(e){return{card:{maxWidth:400,minWidth:344},typography:{fontWeight:"bold",color:"white"},actionRoot:{padding:"8px 8px 8px 16px",backgroundColor:"#951a1d"},icons:{marginLeft:"auto"},expand:{padding:"8px 8px",transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},collapse:{padding:16},checkIcon:{fontSize:20,color:"#b3b3b3",paddingRight:4},button:{padding:0,textTransform:"none"}}})),oa=r.a.forwardRef((function(e,t){var a=ra(),o=Object(ee.useSnackbar)().closeSnackbar,c=Object(n.useState)(!1),l=Object(te.a)(c,2),s=l[0],i=l[1];return r.a.createElement(Jt.a,{className:a.card,ref:t},r.a.createElement(Xt.a,{classes:{root:a.actionRoot}},r.a.createElement(Yt.a,{variant:"subtitle2",className:a.typography},e.message),r.a.createElement("div",{className:a.icons},r.a.createElement(Qt.a,{"aria-label":"Show more",className:zt()(a.expand,Object(Wt.a)({},a.expandOpen,s)),onClick:function(){i(!s)}},r.a.createElement(ta.a,null)),r.a.createElement(Qt.a,{className:a.expand,onClick:function(){o(e.id)}},r.a.createElement($t.a,null)))),r.a.createElement(qt.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(Gt.a,{className:a.collapse},r.a.createElement(Yt.a,{gutterBottom:!0},"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0438\u0441\u043a\u0430 \u0433\u0440\u0443\u043f\u043f\u044b"),r.a.createElement(Be.a,{variant:"middle"}),r.a.createElement("br",null),r.a.createElement(J.a,{size:"small",className:a.button},r.a.createElement(na.a,{className:a.checkIcon}),"\u0414\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u0430 \u0433\u0440\u0443\u043f\u043f\u044b \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0435\u0451 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u044b"))))})),ca=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.props.searchTimetable.length||a.props.fetchSearch(a.state.type),a.setState({text:e.target.value,lessons:""===e.target.value?[]:a.props.searchTimetable.filter((function(t){return t.value.toLowerCase().indexOf(e.target.value.toLowerCase())>-1}))})},a.handleType=function(e){a.props.searchClear(),a.setState({isTargetSelected:!1,lessons:[],type:e})},a.getLessonsById=function(e){a.props.fetchLesson(e,a.state.type)},a.state={text:"",type:"0",lessons:[],currentLessons:[],isTargetSelected:!1,isLoading:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){var a=e.searchTimetable,n=e.lessonTimetable,r=this.state.currentLessons;a!==this.state.lessons&&this.setState({isTargetSelected:!1,isLoading:!1}),n.length!==r.length&&this.setState({currentLessons:n,isTargetSelected:!0})}},{key:"render",value:function(){var e=this,t="1"===this.state.type?et.a.timetable_selector_active:null,a="0"===this.state.type?et.a.timetable_selector_active:null,n=this.state.isTargetSelected?r.a.createElement(Ht,{data:this.state.currentLessons}):this.state.lessons.length?r.a.createElement(tt,{data:this.state.lessons,getLesson:this.getLessonsById}):null;return r.a.createElement("div",null,r.a.createElement("div",{className:et.a.timetable_wrap_selector},r.a.createElement("span",{className:et.a.timetable_selector+" "+t,onClick:function(){return e.handleType("1")}},w.teacher),r.a.createElement("span",{className:et.a.timetable_selector+" "+a,onClick:function(){return e.handleType("0")}},w.student)),r.a.createElement("div",{className:et.a.timetable_header},r.a.createElement("input",{className:et.a.timetable_input,placeholder:w.labelSearch,name:"tableSearch",onChange:this.handleChange,autoComplete:"off"}),r.a.createElement(Lt.a,{"aria-label":"add",style:{backgroundColor:"#951a1d"},onClick:function(){return e.props.enqueueSnackbar("\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430",{anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){return r.a.createElement(oa,{id:e,message:t})}})}},r.a.createElement(Vt.a,{style:{color:"#fff"}}))),this.state.isLoading?r.a.createElement(la,null):n)}}]),t}(r.a.Component),la=function(){return r.a.createElement("div",{className:et.a.loading_circle__container},r.a.createElement("i",{className:et.a.loading_circle+" fas fa-spinner fa-pulse fa-3x"}))},sa=Object(ee.withSnackbar)(ca),ia=a(819),ua=a(821),pa=a(820),ma=a(830),da=a(831),fa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,data:[],alertIsOpen:!1,tempKey:null,loading:!1},a.deleteMarkArr=function(e){a.state.data.splice(e,1)},a.handleClickOpen=function(e){a.setState({alertIsOpen:!0,tempKey:e})},a.handleClose=function(){a.setState({alertIsOpen:!1})},a.handleSubmit=function(){a.setState({alertIsOpen:!1}),a.deleteMarkArr(a.state.tempKey),Y(a.state.tempKey)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.data!==this.state.data&&this.setState({data:e.data}),e.loading!==this.state.loading&&this.setState({loading:e.loading})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,null,this.state.loading?r.a.createElement(la,null):this.state.data.length?this.state.data.map((function(t,a){return r.a.createElement(Ge.a,{key:a,idx:a,item:t,className:"marker_list"},r.a.createElement(Je.a,null,r.a.createElement(Xe.a,null,r.a.createElement(le.a,null))),r.a.createElement(Ye.a,{primary:t.address,secondary:t.date}),r.a.createElement(J.a,{variant:"contained",color:"secondary",onClick:function(){return e.handleClickOpen(t.key)}},r.a.createElement(Ze.a,null)))})):r.a.createElement("h2",null,S.labelMarkNotFound)),r.a.createElement(ia.a,{open:this.state.alertIsOpen,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(da.a,{id:"alert-dialog-title"},r.a.createElement(Q.a,{icon:r.a.createElement(Ze.a,{fontSize:"inherit"}),severity:"warning"},S.labelDeleteMarkHeader)),r.a.createElement(pa.a,null,r.a.createElement(ma.a,{id:"alert-dialog-description"},S.labelDeleteMarkDescription)),r.a.createElement(ua.a,null,r.a.createElement(J.a,{onClick:this.handleClose,color:"primary"},S.labelAlertButtonCancel),r.a.createElement(J.a,{onClick:this.handleSubmit,color:"primary",autoFocus:!0},S.labelAlertButtonSubmit))))}}]),t}(n.Component),ba=a(797),ha=a(472),ga=a(827),Ea=a(826),_a=a(492),va=a.n(_a),ka=a(493),Oa=a.n(ka),ya=a(494),Sa=a.n(ya),ja=Object(ae.a)((function(e){return{typography:{padding:e.spacing(2)},root:{display:"flex",width:"687px"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:181},playIcon:{height:38,width:38},item:{width:"150px",marginRight:"8px"},icon:{backgroundColor:"#671314"}}}));function wa(e){var t=ja(),a=r.a.useState(null),n=Object(te.a)(a,2),o=n[0],c=n[1],l=e.vkData.response[0],s=l.photo_200,i=l.members_count,u=l.name,p=e.vkData.response[0].counters,m=p.photos,d=p.videos,f=Boolean(o),b=f?"simple-popover":void 0;return r.a.createElement("div",null,r.a.createElement(ha.a,{icon:r.a.createElement(na.a,null),label:"\u0412\u041a",component:"a",href:"#chip",clickable:!0,onClick:function(e){c(e.currentTarget)},"aria-describedby":b}),r.a.createElement(ba.a,{id:b,open:f,anchorEl:o,onClose:function(){c(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Jt.a,{className:t.root},r.a.createElement("div",{className:t.details},r.a.createElement(Ea.a,{className:t.content},r.a.createElement(Yt.a,{component:"h5",variant:"h5"},u),r.a.createElement(Yt.a,{variant:"subtitle1",color:"textSecondary"},"\u0413\u0440\u0443\u043f\u043f\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"),r.a.createElement(Be.a,null),r.a.createElement(qe.a,{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(Ge.a,{className:t.item},r.a.createElement(Je.a,null,r.a.createElement(Xe.a,{className:t.icon},r.a.createElement(va.a,null))),r.a.createElement(Ye.a,{primary:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432",secondary:i})),r.a.createElement(Ge.a,{className:t.item},r.a.createElement(Je.a,null,r.a.createElement(Xe.a,{className:t.icon},r.a.createElement(Oa.a,null))),r.a.createElement(Ye.a,{primary:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439",secondary:m})),r.a.createElement(Ge.a,{className:t.item},r.a.createElement(Je.a,null,r.a.createElement(Xe.a,{className:t.icon},r.a.createElement(Sa.a,null))),r.a.createElement(Ye.a,{primary:"\u0412\u0438\u0434\u0435\u043e",secondary:d}))))),r.a.createElement(ga.a,{className:t.cover,image:s,title:"\u041b\u043e\u0433\u043e \u0433\u0440\u0443\u043f\u043f\u044b"}))))}var Ca=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(){a.props.logout()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ze.a.profile},r.a.createElement("div",{className:ze.a.content},r.a.createElement("div",{className:ze.a.marks},r.a.createElement("div",{className:ze.a.personInfo},r.a.createElement("div",{className:ze.a.personInfo__header},r.a.createElement("img",{src:this.props.vkData.response[0].photo_200,alt:"logo"}),r.a.createElement("span",null,this.props.siteName),"failed"===this.props.vkData?null:r.a.createElement(wa,{vkData:this.props.vkData})),r.a.createElement("div",{className:ze.a.personInfo__settings},r.a.createElement(J.a,{variant:"contained",disabled:!0},S.changePasswordLabel),r.a.createElement(J.a,{variant:"contained",onClick:function(){return e.handleLogout()}},S.logoutLabel))),r.a.createElement("div",null,r.a.createElement("h1",null,S.labelMyProfile),r.a.createElement("h3",null,S.labelMyMarks),r.a.createElement(fa,{data:this.props.userPins,loading:this.props.loader})))))}}]),t}(n.Component),xa=function(e){return{isAuth:e.AuthReducer.isAuth}},Na=a(833),Ia=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fethUserPins(this.props.login),this.props.fetchVkData(this.props.vkId)}},{key:"render",value:function(){var e=this;return this.props.vkData.hasOwnProperty("response")?r.a.createElement(Ca,this.props):"failed"===this.props.vkData?r.a.createElement(Q.a,{severity:"error"},r.a.createElement(Na.a,null,"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"),"\u041a\u0430\u0436\u0435\u0442\u0441\u044f \u0432 \u043d\u0430\u0448\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u0435\u043b \u0441\u0431\u043e\u0439. ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(g.b,{to:"/login"},r.a.createElement(J.a,{onClick:function(){return e.props.logout()},variant:"contained",color:"secondary"},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))):r.a.createElement(la,null)}}]),t}(n.Component),Aa=Object(We.compose)(Object(x.b)((function(e){return{vkId:e.AuthReducer.vkId,vkData:e.APIReducer.vkData,loader:e.APIReducer.loading,error:e.APIReducer.errorMessage,login:e.AuthReducer.login,siteName:e.AuthReducer.siteName,userPins:e.APIReducer.userPins}}),{logout:function(){return function(e){return R.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:0==={data:{resultCode:0}}.data.resultCode&&(window.localStorage.removeItem("user"),e(Le(null,null,null,!1,null,null)));case 2:case"end":return t.stop()}}))}},fethUserPins:function(e){return function(t){var a;return R.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t(Ce()),n.prev=1,n.next=4,R.a.awrap(G(e));case 4:a=n.sent,t(xe(V(a))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t({type:"FETCH_USER_PINS_FAILURE",payload:n.t0});case 11:case"end":return n.stop()}}),null,null,[[1,8]])}},OnSetAuthUserData:Ve,fetchVkData:function(e){return function(t){var a;return R.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R.a.awrap(Se(e));case 2:(a=n.sent).hasOwnProperty("error")&&t({type:"FETCH_VK_GROUP_FAILURE"}),a.hasOwnProperty("response")&&t(Re(a));case 5:case"end":return n.stop()}}))}}}),(function(e){var t=function(t){function a(){return Object(l.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,t),Object(s.a)(a,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(m.a,{to:"/login"})}}]),a}(r.a.Component);return Object(x.b)(xa)(t)}))(Ia),Ra=a(345),Ta=a.n(Ra),Da=a(346),Pa=a.n(Da);var Ba=function(e){var t=e.inputType||"text",a=[Pa.a.input],n=e.htmlFor||"".concat(t,"-").concat(Math.random());return function(e){var t=e.valid,a=e.shouldValidate,n=e.touched;return!t&&a&&n}(e)&&a.push(Pa.a.invalid),r.a.createElement("div",{className:a.join(" ")},r.a.createElement("label",{htmlFor:n},e.label),r.a.createElement("input",{id:n,type:e.inputType,value:e.value,onChange:e.onChange}))},Fa=a(495),Ua=a.n(Fa),Ha=a(408),La=a(496),Ma=a.n(La),Va=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={alertState:!1,alertAction:"none",isFormValid:!1,formControls:{login:{value:"",type:"text",label:O.loginLabel,errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u041b\u043e\u0433\u0438\u043d",valid:!1,touched:!1,validation:{required:!0}},password:{value:"",type:"password",label:O.passwordLabel,errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",valid:!1,touched:!1,validation:{required:!0}}}},a.validate=function(e,t){if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),a},a.onChangeHandler=function(e,t){var n=Object(N.a)({},a.state.formControls),r=Object(N.a)({},n[t]);r.value=e.target.value,r.touched=!0,r.valid=a.validate(r.value,r.validation),n[t]=r;var o=!0;Object.keys(n).forEach((function(e){o=n[e].valid&&o})),a.setState({formControls:n,isFormValid:o})},a.handleSubmit=function(e){e.preventDefault()},a.handleClose=function(){a.props.AuthFail(!1)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){this.setState({alertState:e.isFailed})}},{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,a){var n=e.state.formControls[t];return r.a.createElement(Ba,{key:t+a,inputType:n.type,value:n.value,valid:n.valid,touched:n.touched,label:n.label,errorMessage:n.errorMessage,shouldValidate:!!n.validation,onChange:function(a){return e.onChangeHandler(a,t)}})}))}},{key:"render",value:function(){var e=this;return this.props.isAuth?r.a.createElement(m.a,{to:"/map"}):r.a.createElement("div",{className:Ta.a.login},r.a.createElement(Ha.a,{open:this.state.alertState,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(Q.a,{onClose:this.handleClose,icon:r.a.createElement(Ma.a,{fontSize:"inherit"}),severity:"warning"},O.alertErrorLogin)),r.a.createElement("img",{src:Ua.a,alt:"ranepa"}),r.a.createElement("h2",null,O.loginHeader),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:Ta.a.login__form},this.renderInputs(),r.a.createElement(J.a,{variant:"contained",onClick:function(){return e.props.login(e.state.formControls.login.value,e.state.formControls.password.value)},disabled:!this.state.isFormValid},O.loginButton)),r.a.createElement("br",null),"\u0438\u043b\u0438",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(g.b,{to:"/reg"},r.a.createElement(J.a,{variant:"contained"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))}}]),t}(n.Component),Wa=Object(We.compose)(Object(x.b)((function(e){return{isAuth:e.AuthReducer.isAuth,isFailed:e.AuthReducer.isFailed}}),{login:function(e,t){return function(a){var n,r,o;return R.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,R.a.awrap(q(t,e));case 2:if(n=c.sent,r=Object(N.a)({},n.data,{isAuth:n.isAuthed}),0!==n.resultCode){c.next=11;break}return o=JSON.stringify(r),c.next=8,R.a.awrap(window.localStorage.setItem("user",o));case 8:a(Ve()),c.next=14;break;case 11:a(Me(!0)),"\u0423\u043f\u0441... \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a...",a(Object(He.b)("login",{_error:"\u0423\u043f\u0441... \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."}));case 14:case"end":return c.stop()}}))}},AuthFail:Me}))(Va),Ka=a(67),za=a.n(Ka),qa=a(497),Ga=a.n(qa),Ya={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(dt.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(_t.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(Nt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(kt.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(yt.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(dt.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(pt.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(At.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(lt.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ct.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Tt.a,Object.assign({},e,{ref:t}))}))};function Ja(e){Object(n.useRef)();var t={columns:[{title:"\u041a\u0443\u0440\u0441",field:"course"},{title:"\u0422\u0438\u043f",field:"type"},{title:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442",field:"subject"},{title:"\u041e\u0446\u0435\u043d\u043a\u0430",field:"mark",type:"numeric",width:80,render:function(e){return""===e.mark?r.a.createElement("span",null,"-"):r.a.createElement("span",{style:a(e.mark)},e.mark)}}],data:e.data.API.bookmarks},a=function(e){var t={padding:"5px",borderRadius:"40px"};switch(e){case"\u0445\u043e\u0440\u043e\u0448\u043e":return Object(N.a)({backgroundColor:"#ffff0073"},t);case"\u043e\u0442\u043b\u0438\u0447\u043d\u043e":case"\u0437\u0430\u0447\u0435\u0442":return Object(N.a)({backgroundColor:"#017d0187"},t);case"\u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e":return Object(N.a)({backgroundColor:"#ff5346b5"},t)}};return r.a.createElement(nt.a,{actions:[{icon:function(){return r.a.createElement(Ga.a,{trigger:r.a.createElement(Pt.a,null)},r.a.createElement("h2",null,"\u0417\u0430\u0447\u0435\u0442\u043d\u0430\u044f \u043a\u043d\u0438\u0436\u043a\u0430: ",e.text),r.a.createElement("table",{className:za.a.book_collapse},r.a.createElement("tr",null,r.a.createElement("th",{className:za.a.book_td},"\u041a\u0443\u0440\u0441"),r.a.createElement("th",{className:za.a.book_td},"\u041f\u0440\u0435\u0434\u043c\u0435\u0442"),r.a.createElement("th",{className:za.a.book_td},"\u041e\u0446\u0435\u043d\u043a\u0430")),e.data.API.bookmarks.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",{className:za.a.book_td},e.course),r.a.createElement("td",{className:za.a.book_td},e.subject),r.a.createElement("td",{className:za.a.book_td},e.mark))}))))},tooltip:"\u041f\u0435\u0447\u0430\u0442\u044c",isFreeAction:!0}],tableRef:function(e){return e},icons:Ya,title:"\u0417\u0430\u0447\u0435\u0442\u043d\u0430\u044f \u043a\u043d\u0438\u0436\u043a\u0430 "+e.text,columns:t.columns,data:t.data,options:{exportAllData:!0,exportDelimiter:" ",grouping:!0,exportButton:!0,pageSizeOptions:[]},style:{borderRadius:"10px"},localization:{grouping:{placeholder:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \u0432 \u0432\u0438\u0434\u0435 \u0434\u0435\u0440\u0435\u0432\u0430",groupedBy:"\u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e: "},pagination:{labelRowsSelect:"\u0421\u0442\u0440\u043e\u043a\u0438",firstAriaLabel:"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",firstTooltip:"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",previousAriaLabel:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",previousTooltip:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",nextAriaLabel:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",nextTooltip:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",lastAriaLabel:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u043e\u043a\u0430",lastTooltip:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u043e\u043a\u0430"},toolbar:{searchPlaceholder:"\u041f\u043e\u0438\u0441\u043a",searchTooltip:"\u041f\u043e\u0438\u0441\u043a",exportAriaLabel:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0442\u0430\u0431\u043b\u0438\u0446\u044b",exportName:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 .CSV",exportTitle:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0442\u0430\u0431\u043b\u0438\u0446\u044b"}}})}var Xa=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState({text:t.target.value})},e.state={text:"",propsText:"",isLoading:!1},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){e.API.bookmarks.length>0&&this.setState({isLoading:!1})}},{key:"componentWillUnmount",value:function(){this.props.clearData()}},{key:"render",value:function(){var e=this,t=this.props.API.bookmarks;return r.a.createElement("div",{className:za.a.studentBook_content},r.a.createElement("div",{className:za.a.studentBook_header},r.a.createElement("input",{className:za.a.studentBook_input,placeholder:j.placeholderSearch,name:"tableSearch",onChange:this.handleChange}),r.a.createElement("span",{className:za.a.studentBook_Button,onClick:function(){e.props.someData(e.state.text),e.setState({isLoading:!0,propsText:e.state.text})}},r.a.createElement("i",{className:"fas fa-search fa-2x "+za.a.studentBook_searchIcon}))),this.state.isLoading&&0===this.props.API.bookmarks.length?r.a.createElement(la,null):t.length?r.a.createElement("div",{className:za.a.studentBooK_tableContent},r.a.createElement(Ja,{data:this.props,text:this.state.propsText})):null)}}]),t}(r.a.Component),Qa=Object(x.b)((function(e){return{auth:e.AuthReducer,API:e.APIReducer}}),(function(e){return{clearData:function(){return e((function(e){return e(Ie([]))}))},someData:function(t){return e(function(e){return function(t){return R.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t(Ne()),a.next=3,R.a.awrap(L.a.post("http://services.niu.ranepa.ru/API/public/student/getDiary",{recBook:e}).then((function(e){return t(Ie(e.data))})));case 3:case"end":return a.stop()}}))}}(t))}}}))(Xa),Za=a(170),$a=a.n(Za),en=function(e){return r.a.createElement("div",{className:$a.a.home_page},r.a.createElement("div",{className:$a.a.home_page__info},r.a.createElement("h1",{className:$a.a.home_page__header},k.homePageHeader),r.a.createElement("p",null,k.homePageInfo)),r.a.createElement("div",{className:$a.a.home_page__map_wrapper},r.a.createElement("div",{className:$a.a.home_page__map},r.a.createElement(Te,{width:"500px",height:"100vh",welcomeScreen:e.welcomeScreen}))))},tn=(a(688),a(823)),an=a(498),nn=a.n(an)()((function(e){return{root:{marginLeft:"35px",width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,borderRadius:"20px"},chip:{margin:e.spacing(.5)},section1:{margin:e.spacing(2,2)},section2:{margin:e.spacing(2)},block:{width:"650px",display:"flex"},large:{width:e.spacing(5),height:e.spacing(5),marginBottom:e.spacing(2)}}})),rn=function(){var e=nn();return r.a.createElement("div",null,r.a.createElement("div",{className:"home-title"},r.a.createElement("p",{className:"aboutUsHeader"},_.aboutUsHeader),r.a.createElement("p",{className:"aboutUsName"},_.aboutUsName),r.a.createElement("div",{className:e.block},r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.section1},r.a.createElement(tn.a,{container:!0,alignItems:"center"},r.a.createElement(tn.a,{item:!0,xs:!0},r.a.createElement(Yt.a,{gutterBottom:!0,variant:"h4"},"\u0410\u043b\u0435\u043a\u0441\u0435\u0439")),r.a.createElement(tn.a,{item:!0},r.a.createElement(Xe.a,{className:e.large,alt:"\u0410\u043b\u0435\u043a\u0441\u0435\u0439",src:"https://sun9-68.userapi.com/c857224/v857224409/eb4f9/VMrSw4H7NQ4.jpg"})))),r.a.createElement(Be.a,{variant:"middle"}),r.a.createElement("div",{className:e.section2},r.a.createElement("div",null,r.a.createElement(ha.a,{className:e.chip,color:"secondary",label:"GitHub"}),r.a.createElement(ha.a,{className:e.chip,color:"primary",label:"Redux"}),r.a.createElement(ha.a,{className:e.chip,color:"primary",label:"React Native"})))),r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.section1},r.a.createElement(tn.a,{container:!0,alignItems:"center"},r.a.createElement(tn.a,{item:!0,xs:!0},r.a.createElement(Yt.a,{gutterBottom:!0,variant:"h4"},"\u0412\u0430\u0434\u0438\u043c")),r.a.createElement(tn.a,{item:!0},r.a.createElement(Xe.a,{className:e.large,alt:"\u0412\u0430\u0434\u0438\u043c",src:"https://sun9-38.userapi.com/c848520/v848520090/1a6c94/qO8GJvd1oRE.jpg"})))),r.a.createElement(Be.a,{variant:"middle"}),r.a.createElement("div",{className:e.section2},r.a.createElement("div",null,r.a.createElement(ha.a,{className:e.chip,color:"secondary",label:"Firebase"}),r.a.createElement(ha.a,{className:e.chip,color:"primary",label:"Mapbox GL"}),r.a.createElement(ha.a,{className:e.chip,color:"primary",label:"React"}))))),r.a.createElement("div",{className:"aboutUsLogo fa-5x"},r.a.createElement("a",{href:"https://ru.reactjs.org/"},r.a.createElement("i",{className:"aboutIcon fab fa-react"})),r.a.createElement("a",{href:"https://firebase.google.com/"},r.a.createElement("i",{className:"aboutIcon fas fa-fire-alt"})),r.a.createElement("a",{href:"https://github.com/SOUTHYYY/ranepa-client-desktop"},r.a.createElement("i",{className:"aboutIcon fab fa-github"})),r.a.createElement("a",{href:"https://www.mapbox.com/"},r.a.createElement("i",{className:"aboutIcon fas fa-map-marked-alt"})))),r.a.createElement("div",{className:"waveWrapper waveAnimation"},r.a.createElement("div",{className:"waveWrapperInner bgTop"},r.a.createElement("div",{className:"wave waveTop",style:{backgroundImage:"url('http://front-end-noobs.com/jecko/img/wave-top.png')"}})),r.a.createElement("div",{className:"waveWrapperInner bgMiddle"},r.a.createElement("div",{className:"wave waveMiddle",style:{backgroundImage:"url('http://front-end-noobs.com/jecko/img/wave-mid.png')"}})),r.a.createElement("div",{className:"waveWrapperInner bgBottom"},r.a.createElement("div",{className:"wave waveBottom",style:{backgroundImage:"url('http://front-end-noobs.com/jecko/img/wave-bot.png')"}}))))},on=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(sa,this.props)}}]),t}(n.Component),cn=Object(x.b)((function(e){var t=e.APIReducer;return{lessonTimetable:t.lessonTimetable,searchTimetable:t.searchTimetable,text:t.text}}),(function(e){return{fetchSearch:function(t){return e(function(e){return function(t){return R.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.a.awrap((new _e).getGroupOrTeacher(e).then((function(e){return t(Ae(e))})));case 2:case"end":return a.stop()}}))}}(t))},fetchLesson:function(t,a){return e(function(e,t){return function(a){return R.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R.a.awrap((new _e).getResource(e,t).then((function(e){return a({type:"FETCH_LESSON_DATA",payload:e})})));case 2:case"end":return n.stop()}}))}}(t,a))},searchClear:function(){return e((function(e){e(Ae([]))}))}}}))(on),ln=a(828),sn=a(829),un=a(467),pn=a(468),mn=a(332),dn=a(501),fn=a.n(dn),bn=a(500),hn=a.n(bn),gn=a(502),En=a.n(gn),_n=Object(ae.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),vn=function(e){var t=e.input,a=e.label,n=e.meta,o=n.touched,c=n.active,l=e.input.value,s=e.onChange,i=Object(T.a)(e,["input","label","meta","input","onChange"]);return r.a.createElement(X.a,Object.assign({required:!0,fullWidth:!0,error:!(!o||l||c),label:a,variant:"outlined",helperText:o&&!l&&"\u041e\u0448\u0438\u0431\u043a\u0430",onChange:function(e){s(e.target.value)}},t,i))},kn=function(e){if(!e)return!0},On=Object(pn.a)({form:"register"})((function(e){var t=_n();return r.a.createElement("form",{className:t.form,onSubmit:e.handleSubmit},r.a.createElement(tn.a,{container:!0,spacing:2},r.a.createElement(tn.a,{item:!0,xs:12,sm:6},r.a.createElement(un.a,{name:"login",component:vn,label:"\u041b\u043e\u0433\u0438\u043d",validate:[kn]})),r.a.createElement(tn.a,{item:!0,xs:12,sm:6},r.a.createElement(un.a,{name:"password",component:vn,label:"\u041f\u0430\u0440\u043e\u043b\u044c",validate:[kn]})),r.a.createElement(tn.a,{item:!0,xs:12,sm:8},r.a.createElement(un.a,{name:"vkId",component:vn,label:"ID \u0412\u041a",error:!1,helperText:!1,validate:[kn],disabled:!!e.vkRedux,onChange:function(t){return e.onVkUpdate(t.target.value)}})),r.a.createElement(tn.a,{item:!0,xs:2},r.a.createElement(mn.a,{title:e.vkValid.length?"\u041f\u0440\u043e\u0439\u0442\u0438 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e":"",placement:"bottom"},r.a.createElement(Lt.a,{color:"secondary",disabled:!e.vkValid.length,style:e.vkRedux?{backgroundColor:"#009616c9"}:null,onClick:function(){return e.onVkSubmit(e.vkValid)}},e.vkRedux?r.a.createElement(fn.a,null):r.a.createElement(hn.a,null)))),r.a.createElement(tn.a,{item:!0,xs:2},r.a.createElement(Lt.a,{color:"secondary","aria-label":"edit",onClick:e.setOpen},r.a.createElement(En.a,null))),r.a.createElement(tn.a,{item:!0,xs:12},r.a.createElement(un.a,{name:"siteName",component:vn,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0443\u0434. \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430",validate:[kn]}))),r.a.createElement(J.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,onClick:e.handleSubmit,disabled:!(e.valid&&!1!==e.vkRedux)},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))})),yn=Object(ee.withSnackbar)((function(e){var t=_n(),a=e.reg,o=a.error,c=a.errorMessage,l=e.enqueueSnackbar,s=Object(n.useState)(!1),i=Object(te.a)(s,2),u=i[0],p=i[1],m=function(){p(!1)};Object(n.useEffect)((function(){o&&l(c)}),[o]);return e.reg.registered?e.history.push("/login"):r.a.createElement(ln.a,{component:"main",maxWidth:"xs"},r.a.createElement(sn.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(Yt.a,{component:"h1",variant:"h5"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(On,{onSubmit:function(t){return R.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.a.awrap(e.submitReg(t.login,t.siteName,t.vkId,t.password));case 2:case"end":return a.stop()}}))},vkRedux:e.reg.vkId,onVkSubmit:function(t){e.fetchVK(t)},setOpen:function(){p(!0)},vkValid:e.reg.vkState,onVkUpdate:function(t){e.updVkState(t)}})),r.a.createElement(ia.a,{onClose:m,"aria-labelledby":"customized-dialog-title",open:u},r.a.createElement(da.a,{id:"customized-dialog-title",onClose:m},"F.A.Q \u041f\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),r.a.createElement(pa.a,{dividers:!0},r.a.createElement(Q.a,{severity:"error",style:{marginBottom:"20px"}},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u0442\u043d\u043e\u0441\u0442\u0438"),"\u0414\u0430\u043d\u043d\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430 \u043d\u0435 \u0438\u043c\u0435\u0435\u0442 \u043f\u0440\u044f\u043c\u043e\u0433\u043e \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u043a \u041d\u0418\u0423 \u0420\u0410\u041d\u0425\u0438\u0413\u0421",r.a.createElement(Be.a,{variant:"fullWidth"}),r.a.createElement(Q.a,{severity:"error",style:{marginBottom:"20px",marginTop:"10px"}},"\u0414\u0430\u043d\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),r.a.createElement(Yt.a,{gutterBottom:!0},"\u0414\u0430\u043d\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u043d\u0435\u0442 \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"),r.a.createElement(Be.a,{variant:"fullWidth"}),r.a.createElement(Q.a,{severity:"info",style:{marginBottom:"20px",marginTop:"10px"}},"\u041a\u0430\u043a \u043d\u0430\u0439\u0442\u0438 ID \u0433\u0440\u0443\u043f\u043f\u044b \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"),r.a.createElement(Yt.a,{gutterBottom:!0},"\u0421\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0438\u0437 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438, \u0441\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0451 \u0447\u0442\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 https://vk.com/"),r.a.createElement(ha.a,{label:"https://vk.com/niuranepa",style:{color:"white",backgroundColor:"#f50057",marginBottom:10}})," - \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e",r.a.createElement("br",null),r.a.createElement(ha.a,{label:"niuranepa",style:{backgroundColor:"#009616c9"},color:"secondary"})," - \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e"),r.a.createElement(ua.a,null,r.a.createElement(J.a,{autoFocus:!0,onClick:m,color:"primary"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}));function Sn(e){return{type:"FETCH_VK_CHECK_GROUP_SUCCESS",payload:e}}function jn(e){return{type:"FETCH_VK_CHECK_GROUP_FAILURE",payload:e}}var wn=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearData()}},{key:"render",value:function(){return r.a.createElement(yn,this.props)}}]),t}(n.Component),Cn=Object(x.b)((function(e){return{reg:e.REGReducer,regForm:e.form}}),(function(e){return{fetchVK:function(t){return e(function(e){return function(t){var a;return R.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R.a.awrap(je(e));case 2:a=n.sent,n.t0=a,n.next="similarity_err"===n.t0?6:!1===n.t0?8:10;break;case 6:return t(jn("\u041e\u0448\u0438\u0431\u043a\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u0442\u043d\u043e\u0441\u0442\u0438")),n.abrupt("break",11);case 8:return t(jn("\u0413\u0440\u0443\u043f\u043f\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430")),n.abrupt("break",11);case 10:t(Sn(a));case 11:case"end":return n.stop()}}))}}(t))},submitReg:function(t,a,n,r){return e(function(e,t,a,n){return function(r){return R.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,R.a.awrap(z(e,t,a,n));case 2:o.sent?r({type:"FETCH_FIREBASE_PUSH_SUCCESS"}):(r({type:"FETCH_FIREBASE_PUSH_FAILURE",payload:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"}),r(Object(He.a)("register")),r((function(e){e({type:"CLEAR_DATA"})})));case 4:case"end":return o.stop()}}))}}(t,a,n,r))},clearData:function(){return e((function(e){e({type:"CLEAR_DATA"})}))},updVkState:function(t){return e(function(e){return e?{type:"UPDATE_VK_STATE",payload:e}:{type:"UPDATE_VK_STATE",payload:!1}}(t))}}}))(wn),xn=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){console.log(e.history.location.pathname)}},{key:"render",value:function(){return U.a.initializeApp(M),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue,null),r.a.createElement("div",{className:"main-content"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/"},r.a.createElement(en,{welcomeScreen:!0})),r.a.createElement(m.b,{exact:!0,path:"/map"},r.a.createElement(Te,{width:"100%",height:"100vh",welcomeScreen:!1})),r.a.createElement(m.b,{path:"/student-book"},r.a.createElement(Qa,null)),r.a.createElement(m.b,{path:"/timetable"},r.a.createElement(cn,null)),r.a.createElement(m.b,{path:"/login"},r.a.createElement(Wa,null)),r.a.createElement(m.b,{path:"/profile"},r.a.createElement(Aa,null)),r.a.createElement(m.b,{path:"/reg",render:function(e){var t=e.history;return r.a.createElement(Cn,{history:t})}}),r.a.createElement(m.b,{path:"/about-us"},r.a.createElement(rn,null)),r.a.createElement(m.b,null,r.a.createElement(C,null)))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Nn=a(503),In={loading:!1,data:!1,userPins:[],errorMessage:null,bookmarks:[],searchTimetable:[],lessonTimetable:[],vkData:[]};var An={id:null,login:null,password:null,isAuth:!1,isFailed:!1,siteName:null,isFretching:!1,vkId:[]};var Rn={vkId:null,error:null,registered:null},Tn={vkId:!1,vkState:!1,errorMessage:null,error:null,registered:null};var Dn=a(470),Pn=Object(We.combineReducers)({APIReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_API":return Object(N.a)({},e,{loading:!0});case"FETCH_API_SUCCESS":return Object(N.a)({},e,{loading:!1,data:n});case"FETCH_API_FAILURE":return Object(N.a)({},e,{loading:!1,data:"Not found Data"});case"FETCH_USER_PINS_START":return Object(N.a)({},e,{loading:!0,errorMessage:null});case"FETCH_USER_PINS_SUCCES":return Object(N.a)({},e,{loading:!1,userPins:n});case"FETCH_USER_PINS_FAILURE":return Object(N.a)({},e,{loading:!1,errorMessage:n});case"FETCH_USER_BOOK_SUCCESS":return Object(N.a)({},e,{bookmarks:n});case"FETCH_USER_BOOK_FAILURE":return Object(N.a)({},e,{errorBook:n});case"FETCH_USER_BOOK_START":return Object(N.a)({},e);case"FETCH_SEARCH_DATA":return Object(N.a)({},e,{searchTimetable:n});case"FETCH_LESSON_DATA":return Object(N.a)({},e,{lessonTimetable:n});case"FETCH_VK_GROUP_FAILURE":return Object(N.a)({},e,{vkData:"failed"});case"FETCH_VK_GROUP_SUCCESS":return Object(N.a)({},e,{vkData:n});default:return e}},AuthReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_AUTH_USER_DATA_SUCCES":case"SET_AUTH_USER_DATA_FAILURE":return Object(N.a)({},e,{},n);default:return e}},REGReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_FIREBASE_PUSH_SUCCESS":return Object(N.a)({},e,{registered:!0});case"FETCH_FIREBASE_PUSH_FAILURE":return Object(N.a)({},e,{error:n});case"FETCH_VK_CHECK_GROUP_SUCCESS":return Object(N.a)({},e,{vkId:n,error:!1});case"FETCH_VK_CHECK_GROUP_FAILURE":return Object(N.a)({},e,{errorMessage:n,error:!0});case"UPDATE_VK_STATE":return Object(N.a)({},e,{vkState:n});case"CLEAR_DATA":return Object(N.a)({},Rn);default:return e}},form:Dn.a}),Bn=a(504),Fn=a(71);if(localStorage.getItem("user"))var Un=JSON.parse(localStorage.getItem("user"));var Hn=Object(We.createStore)(Pn,Un?{AuthReducer:Un}:{AuthReducer:An},Object(Bn.composeWithDevTools)(Object(We.applyMiddleware)(Nn.a)));window.store=Hn.getState();var Ln=Object(Fn.a)();c.a.render(r.a.createElement(g.a,null,r.a.createElement(x.a,{store:Hn},r.a.createElement(ee.SnackbarProvider,null,r.a.createElement(xn,{history:Ln,onHist:function(){return console.log(Ln)}})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[537,1,2]]]);
//# sourceMappingURL=main.cd3aa40c.chunk.js.map